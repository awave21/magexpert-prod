<?php

return [
    /*
    |--------------------------------------------------------------------------
    | PayKeeper Configuration
    |--------------------------------------------------------------------------
    |
    | Настройки для интеграции с платежной системой PayKeeper
    |
    */

    'enabled' => env('PAYKEEPER_ENABLED', false),

    /*
    |--------------------------------------------------------------------------
    | Server Settings
    |--------------------------------------------------------------------------
    */
    
    'server_url' => env('PAYKEEPER_SERVER_URL', 'https://demo.paykeeper.ru'),

    /*
    |--------------------------------------------------------------------------
    | Authentication
    |--------------------------------------------------------------------------
    */
    
    'username' => env('PAYKEEPER_USERNAME', 'demo'),
    'password' => env('PAYKEEPER_PASSWORD', 'demo'),

    /*
    |--------------------------------------------------------------------------
    | Webhook Settings  
    |--------------------------------------------------------------------------
    */
    
    'webhook_secret' => env('PAYKEEPER_WEBHOOK_SECRET'),
    'webhook_url' => env('APP_URL') . '/api/webhook/paykeeper',
    
    /*
    |--------------------------------------------------------------------------
    | Security Settings
    |--------------------------------------------------------------------------
    */
    
    // Разрешенные IP адреса для webhook (пустой массив = все IP разрешены)
    'allowed_ips' => env('PAYKEEPER_ALLOWED_IPS') ? explode(',', env('PAYKEEPER_ALLOWED_IPS')) : [],

    /*
    |--------------------------------------------------------------------------
    | Payment Settings
    |--------------------------------------------------------------------------
    */
    
    'currency' => 'RUB',
    'test_mode' => env('PAYKEEPER_TEST_MODE', true),

    /*
    |--------------------------------------------------------------------------
    | API Endpoints
    |--------------------------------------------------------------------------
    */
    
    'endpoints' => [
        'token' => '/info/settings/token/',
        'create_invoice' => '/change/invoice/preview/',
        'invoice_info' => '/info/invoice/byid/',
    ],
];